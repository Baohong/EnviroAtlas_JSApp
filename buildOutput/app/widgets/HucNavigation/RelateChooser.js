//>>built
define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/has ./MobilePopup dojo/dom dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-attr dojo/_base/array dojo/Evented dojo/sniff".split(" "),function(l,g,d,k,q,m,r,a,t,e,h,n,p){return l([m,p],{baseClass:"jimu-popup jimu-message",declaredClass:"esearch.dijit.relate.chooser",type:"message",message:"",autoHeight:!1,relatesArr:null,folderurl:null,maxWidth:400,maxHeight:400,postMixInProperties:function(){this.inherited(arguments)},
_dataMixin:function(){this._listContainer=a.create("div");e.add(this._listContainer,"relateLyrUrl-list-container");this.own(k(this._listContainer,"click",g.hitch(this,this._onClick)));a.place(this._listContainer,this.contentContainerNode);n.map(this.relatesArr,g.hitch(this,function(f){var b=a.create("div");h.set(b,"id",f.id);var c=a.create("div");h.set(c,"id",f.id);e.add(c,"iconDiv");a.place(c,b);var d=a.toDom("\x3cimg src\x3d'"+this.folderurl+"images/i_relate.png' alt\x3d'' border\x3d'0' width\x3d'20px' height\x3d'20px'\x3e");
a.place(d,c);c=a.create("p");h.set(c,"id",f.id);e.add(c,"_title");c.textContent=c.innerText=f.name;a.place(c,b);e.add(b,"relate-list-item");a.place(b,this._listContainer)}))},_onClick:function(a){if(""!==a.target.id||""!==a.target.parentNode.id){var b=a.target.id.toLowerCase();b||(b=a.target.parentNode.id);this._selectedNode=b;this.emit("click",b);this.close()}},_createTitleNode:function(){this.titleLabel&&(this.titleNode=d.create("div",{"class":"title"},this.domNode),this.handleNode=d.create("div",
{"class":"handle"},this.titleNode),this.titleLabeNode=d.create("span",{"class":"title-label jimu-float-leading",innerHTML:this.titleLabel||"\x26nbsp"},this.titleNode),this.closeBtnNode=d.create("div",{"class":"close-btn jimu-icon jimu-icon-close jimu-float-trailing"},this.titleNode),this.own(k(this.closeBtnNode,"click",g.hitch(this,this.close))))},_increaseZIndex:function(){d.setStyle(this.domNode,"zIndex",9999);d.setStyle(this.overlayNode,"zIndex",9998)}})});