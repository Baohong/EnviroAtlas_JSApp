//>>built
require({cache:{"url:widgets/HucNavigation/setting/FieldFormatEdit.html":'\x3cdiv style\x3d"width: 100%"\x3e\r\n  \x3ctable class\x3d"setting-table input-table" cellspacing\x3d"10" data-dojo-attach-point\x3d"inputTable"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr class\x3d"date"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.dateformat}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv\x3e\r\n              \x3cselect data-dojo-attach-point\x3d"selectDateFormat" data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                      data-dojo-props\x3d"style:{width:\'200px\'}"\x3e\r\n                \x3coption value\x3d"d MMM yyyy" selected\x3d"selected"\x3e${nls.dayShortMonthYear}\x3c/option\x3e\r\n                \x3coption value\x3d"EEEE, MMMM d, yyyy"\x3e${nls.longDate}\x3c/option\x3e\r\n                \x3coption value\x3d"MMMM d, yyyy"\x3e${nls.longMonthDayYear}\x3c/option\x3e\r\n                \x3coption value\x3d"MMMM yyyy"\x3e${nls.longMonthYear}\x3c/option\x3e\r\n                \x3coption value\x3d"M/d/yyyy"\x3e${nls.shortDate}\x3c/option\x3e\r\n                \x3coption value\x3d"M/d/yyyy h:mm:ss a"\x3e${nls.shortDateLongTime}\x3c/option\x3e\r\n                \x3coption value\x3d"M/d/yyyy H:mm:ss"\x3e${nls.shortDateLongTime24}\x3c/option\x3e\r\n                \x3coption value\x3d"M/d/yyyy h:mm a"\x3e${nls.shortDateShortTime}\x3c/option\x3e\r\n                \x3coption value\x3d"M/d/yyyy H:mm"\x3e${nls.shortDateShortTime24}\x3c/option\x3e\r\n                \x3coption value\x3d"MMM yyyy"\x3e${nls.shortMonthYear}\x3c/option\x3e\r\n                \x3coption value\x3d"yyyy"\x3e${nls.year}\x3c/option\x3e\r\n                \x3coption value\x3d"Custom"\x3e${nls.custom}\x3c/option\x3e\r\n              \x3c/select\x3e\r\n              \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"dateFormat"\r\n                     required\x3d"false" value\x3d"${nls.friendlyDatePattern}" data-dojo-props\x3d"style:{width:\'200px\',margin:\'0 0 0 20px\'},disable:true"/\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"date"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.useutc}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"utcCbx"\x3e\x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"numeric currency"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.currencyfield}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"currencyCbx"\x3e\x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"numeric currency"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.currencySymbol}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"currencySymboltxt"\r\n              required\x3d"false" value\x3d"${nls.examplecurrency}" data-dojo-props\x3d"style:{width:\'40px\'}"/\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"numeric"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.precision}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv\x3e\r\n              \x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"percisionCbx"\x3e\x3c/div\x3e\r\n              \x3cinput data-dojo-type\x3d"dijit/form/NumberSpinner" data-dojo-attach-point\x3d"percisionSpinner" value\x3d"2"\r\n                     data-dojo-props\x3d"constraints:{min:0,max:100,places:0},style:{width:\'60px\',margin:\'0 10px 0 10px\'}" /\x3e\r\n              \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"percisionSymbol"\r\n                     required\x3d"false" value\x3d"${nls.exampleprecision}" data-dojo-props\x3d"style:{width:\'40px\'}"/\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"numeric"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.usethousandssep}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv\x3e\r\n              \x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"useThousandsCbx"\x3e\x3c/div\x3e\r\n              \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"thousandsSymbol"\r\n                     required\x3d"false" value\x3d"${nls.examplethousands}" data-dojo-props\x3d"style:{width:\'40px\',margin:\'0 0 0 10px\'}"/\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"numeric sum"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.sum}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv\x3e\r\n              \x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"useSumCbx"\x3e\x3c/div\x3e\r\n              \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"tbSumLabel"\r\n                     data-dojo-props\x3d"style:{width:\'360px\',margin:\'0 0 0 10px\'}" placeholder\x3d"${nls.sumlabel}"\r\n                     required\x3d"false"/\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"numeric stats"\x3e\r\n          \x3ctd class\x3d"first"\x3e${nls.statistics}\x3c/td\x3e\r\n          \x3ctd class\x3d"second"\x3e\r\n            \x3cdiv\x3e\r\n              \x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"useStatCbx"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n\x3c/div\x3e\r\n'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/dom-style dojo/dom-attr dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry jimu/BaseWidgetSetting jimu/dijit/Message dojo/text!./FieldFormatEdit.html dijit/form/NumberSpinner jimu/dijit/CheckBox dijit/form/FilteringSelect dijit/form/ValidationTextBox".split(" "),function(g,d,c,n,h,e,p,f,q,r,k,t,l,u,m){return g([l,k],{baseClass:"jimu-eSearch-Field-Format-Edit",templateString:m,
formatString:"",formatArray:null,returnfieldInfo:null,tr:null,isRelate:!1,postCreate:function(){this.inherited(arguments);this.dateFormat.set("disabled",!0);this.percisionSpinner.set("disabled",!0);this.percisionSymbol.set("disabled",!0);this.thousandsSymbol.set("disabled",!0);this.currencyCbx.set("status",!1);this.currencySymboltxt.set("disabled",!0);this.percisionCbx.onChange=d.hitch(this,"_onPercisionCbxChange");this.currencyCbx.onChange=d.hitch(this,"_onCurrencyCbxChange");this.useThousandsCbx.onChange=
d.hitch(this,"_onUseThousandsCbxChange");this.own(h(this.selectDateFormat,"change",d.hitch(this,"_onSelectDateFormatChange")));this.popup&&this.popup.enableButton(0)},setConfig:function(a){this.returnfieldInfo=a;a.excludestat?this.useStatCbx.setValue(!0):this.useStatCbx.setValue(!1);if(this.isRelate){var b=f(".currency",this.inputTable);c.forEach(b,function(a){e.set(a,"display","none")});b=f(".sum",this.inputTable);c.forEach(b,function(a){e.set(a,"display","none")});b=f(".stats",this.inputTable);
c.forEach(b,function(a){e.set(a,"display","none")})}if(a.isdate||this._isDateType(a.type))b=f(".numeric",this.inputTable),c.forEach(b,function(a){e.set(a,"display","none")}),a.dateformat?(this.formatString=a.dateformat,this.selectDateFormat.store.fetch({query:{name:"*"},onComplete:d.hitch(this,function(b){c.some(b,function(b){return b.value===a.dateformat})?this.selectDateFormat.set("value",a.dateformat):(this.selectDateFormat.set("value",this.nls.custom),this.dateFormat.set("value",a.dateformat))})})):
(this.selectDateFormat.set("value","d MMM yyyy"),this.dateFormat.set("value","d MMM yyyy")),this.utcCbx.setValue(a.useutc||!1);else if(a.isnumber||this._isNumberType(a.type))if(b=f(".date",this.inputTable),c.forEach(b,function(a){e.set(a,"display","none")}),this.currencyCbx.set("status",!0),this.currencyCbx.set("disabled",!1),a.sumfield&&(this.useSumCbx.setValue(!0),this.tbSumLabel.set("value",a.sumlabel)),a.currencyformat)this.formatString=a.currencyformat,this.formatArray=this.formatString.split("|"),
this.currencyCbx.setValue(!0),this.currencySymboltxt.set("disabled",!1),this.currencySymboltxt.set("value",this.formatArray[0]),this.formatArray[1]&&(this.percisionSpinner.set("disabled",!1),this.percisionCbx.setValue(!0),this.percisionSpinner.set("value",parseInt(this.formatArray[1]))),this.formatArray[3]&&(this.percisionSymbol.set("disabled",!1),this.percisionSymbol.set("value",this.formatArray[3])),this.formatArray[2]&&(this.useThousandsCbx.setValue(!0),this.thousandsSymbol.set("disabled",!1),
this.thousandsSymbol.set("value",this.formatArray[2]));else if(a.numberformat){this.formatString=a.numberformat;this.formatArray=this.formatString.split("|");this.currencyCbx.set("disabled",!0);this.currencySymboltxt.set("disabled",!0);if(this.formatArray[0]||this.formatArray[2])this.percisionCbx.setValue(!0),this.percisionSpinner.set("value",parseInt(this.formatArray[0])),this.percisionSymbol.set("value",this.formatArray[2]);this.formatArray[1]&&(this.useThousandsCbx.setValue(!0),this.thousandsSymbol.set("value",
this.formatArray[1]))}},_isNumberType:function(a){return 0<=c.indexOf(["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],a)},_isDateType:function(a){return 0<=c.indexOf(["esriFieldTypeDate"],a)},getConfig:function(){this.useStatCbx.getValue()?this.returnfieldInfo.excludestat=!0:this.returnfieldInfo.excludestat=!1;if(this.returnfieldInfo.isdate||this._isDateType(this.returnfieldInfo.type))this.selectDateFormat.get("value")===this.nls.custom?
this.returnfieldInfo.dateformat=this.dateFormat.get("value"):this.returnfieldInfo.dateformat=this.selectDateFormat.get("value"),this.utcCbx.getValue()?this.returnfieldInfo.useutc=!0:this.returnfieldInfo.useutc=!1;else if(this.returnfieldInfo.isnumber||this._isNumberType(this.returnfieldInfo.type)){var a="",b="";this.useSumCbx.getValue()&&(this.returnfieldInfo.sumfield=this.useSumCbx.getValue(),this.returnfieldInfo.sumlabel=this.tbSumLabel.get("value"));this.currencyCbx.getValue()?(a+=this.currencySymboltxt.get("value")+
"|",a=this.percisionCbx.getValue()?a+(this.percisionSpinner.get("value").toString()+"|"):a+"|",a=this.useThousandsCbx.getValue()?a+(this.thousandsSymbol.get("value")+"|"):a+"|",this.percisionCbx.getValue()&&(a+=this.percisionSymbol.get("value")),this.returnfieldInfo.currencyformat=a):(b=this.percisionCbx.getValue()?b+(this.percisionSpinner.get("value").toString()+"|"):b+"|",b=this.useThousandsCbx.getValue()?b+(this.thousandsSymbol.get("value")+"|"):b+"|",this.percisionCbx.getValue()&&(b+=this.percisionSymbol.get("value")),
this.returnfieldInfo.numberformat=b)}return this.returnfieldInfo},_onPercisionCbxChange:function(){var a=this.percisionCbx.getValue();this.percisionSpinner.set("disabled",!a);this.percisionSymbol.set("disabled",!a)},_onCurrencyCbxChange:function(){var a=this.currencyCbx.getValue();this.currencySymboltxt.set("disabled",!a)},_onUseThousandsCbxChange:function(){var a=this.useThousandsCbx.getValue();this.thousandsSymbol.set("disabled",!a)},_onSelectDateFormatChange:function(){this.selectDateFormat.get("value")===
this.nls.custom?(this.returnfieldInfo.dateformat||this.dateFormat.set("value",this.nls.friendlyDatePattern),this.dateFormat.set("disabled",!1)):(this.dateFormat.set("value",this.selectDateFormat.get("value")),this.dateFormat.disabled||this.dateFormat.set("disabled",!0))}})});