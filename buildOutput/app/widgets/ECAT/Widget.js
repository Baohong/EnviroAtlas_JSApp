//>>built
require({cache:{"esri/tasks/Geoprocessor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has dojo/io-query ../kernel ../request ../deferredUtils ../geometry/normalizeUtils ./Task ./FeatureSet ./JobInfo ./GPMessage ./LinearUnit ./DataFile ./RasterData ./Date ./ParameterValue ./GPResultImageLayer ../layers/ArcGISDynamicMapServiceLayer ../layers/MapImage".split(" "),function(a,b,h,f,c,m,t,x,q,n,l,p,F,e,u,y,E,v,z,A,B,w,C){a=a(p,{declaredClass:"esri.tasks.Geoprocessor",
_eventMap:{"execute-complete":["results","messages"],"get-result-data-complete":["result"],"get-result-image-complete":["mapImage"],"get-result-image-layer-complete":["layer"],"job-cancel":["jobInfo"],"job-complete":["jobInfo"],"status-update":["jobInfo"]},constructor:function(d){this._jobUpdateHandler=b.hitch(this,this._jobUpdateHandler);this._getJobStatus=b.hitch(this,this._getJobStatus);this._getResultDataHandler=b.hitch(this,this._getResultDataHandler);this._getResultImageHandler=b.hitch(this,
this._getResultImageHandler);this._executeHandler=b.hitch(this,this._executeHandler);this._updateTimers=[];this.registerConnectEvents()},updateDelay:1E3,processSpatialReference:null,outputSpatialReference:null,outSpatialReference:null,setUpdateDelay:function(d){this.updateDelay=d},setProcessSpatialReference:function(d){this.processSpatialReference=d},setOutputSpatialReference:function(d){this._setOutSR(d)},setOutSpatialReference:function(d){this._setOutSR(d)},__msigns:[{n:"execute",c:3,a:[{i:0,p:["*"]}],
e:2,f:1},{n:"submitJob",c:4,a:[{i:0,p:["*"]}],e:3}],_setOutSR:function(d){this.outSpatialReference=this.outputSpatialReference=d},_getOutSR:function(){return this.outSpatialReference||this.outputSpatialReference},_gpEncode:function(d,a,k){for(var e in d){var g=d[e];b.isArray(g)?d[e]=c.toJson(h.map(g,function(g){return this._gpEncode({item:g},!0).item},this)):g instanceof Date&&(d[e]=g.getTime())}return this._encode(d,a,k)},_decode:function(d){var a=d.dataType,k=new A(d);if(-1!==h.indexOf(["GPBoolean",
"GPDouble","GPLong","GPString"],a))return k;if("GPLinearUnit"===a)k.value=new y(k.value);else if("GPFeatureRecordSetLayer"===a||"GPRecordSet"===a)k.value=new F(k.value);else if("GPDataFile"===a)k.value=new E(k.value);else if("GPDate"===a)d=k.value,b.isString(d)?k.value=new z({date:d}):k.value=new Date(d);else if("GPRasterData"===a||"GPRasterDataLayer"===a)d=d.value.mapImage,k.value=d?new C(d):new v(k.value);else if(-1!==a.indexOf("GPMultiValue:")){var c=a.split(":")[1];d=k.value;k.value=h.map(d,function(g){return this._decode({paramName:"_name",
dataType:c,value:g}).value},this)}else console.log(this.declaredClass+" : GP Data type not handled. : "+k.dataType),k=null;return k},submitJob:function(a,e,k,f,g){var d=this._getOutSR(),r=g.assembly;a=this._gpEncode(b.mixin({},this._url.query,{f:"json","env:outSR":d?d.wkid||c.toJson(d.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||c.toJson(this.processSpatialReference.toJson()):null},a),null,r&&r[0]);var h=this._jobUpdateHandler,l=this._errorHandler;
return q({url:this._url.path+"/submitJob",content:a,callbackParamName:"callback",load:function(a,d){h(a,d,!1,e,k,g.dfd)},error:function(a){l(a,f,g.dfd)}})},_jobUpdateHandler:function(a,b,k,c,g,D){var d=a.jobId;b=new e(a);if(this._successHandler([b],"onStatusUpdate",g,k&&D),!k)switch(clearTimeout(this._updateTimers[d]),this._updateTimers[d]=null,D&&D.progress(b),a.jobStatus){case e.STATUS_SUBMITTED:case e.STATUS_EXECUTING:case e.STATUS_WAITING:case e.STATUS_NEW:var f=this._getJobStatus;this._updateTimers[d]=
setTimeout(function(){f(d,k,c,g,D)},this.updateDelay);break;default:this._successHandler([b],"onJobComplete",c,D)}},_getJobStatus:function(a,c,k,e,g){var d=this._jobUpdateHandler;q({url:this._url.path+"/jobs/"+a,content:b.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,b){d(a,b,c,k,e,g)},error:this._errorHandler})},_getResultDataHandler:function(a,b,c,e,g){try{var d=this._decode(a);this._successHandler([d],"onGetResultDataComplete",c,g)}catch(r){this._errorHandler(r,
e,g)}},getResultData:function(a,c,k,e){var g=this._getResultDataHandler,d=this._errorHandler,r=new f(n._dfdCanceller);return r._pendingDfd=q({url:this._url.path+"/jobs/"+a+"/results/"+c,content:b.mixin({},this._url.query,{f:"json",returnType:"data"}),callbackParamName:"callback",load:function(a,d){g(a,d,k,e,r)},error:function(a){d(a,e,r)}}),r},checkJobStatus:function(a,c,e){var d=this._jobUpdateHandler,g=this._errorHandler,k=new f(n._dfdCanceller);return k._pendingDfd=q({url:this._url.path+"/jobs/"+
a,content:b.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,g){d(a,g,!0,null,c,k)},error:function(a){g(a,e,k)}}),k},cancelJob:function(a,c,e){var d=this._errorHandler,g=new f(n._dfdCanceller);return g._pendingDfd=q({url:this._url.path+"/jobs/"+a+"/cancel",content:b.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:b.hitch(this,function(a,d){this._successHandler([a],"onJobCancel",c,g)}),error:function(a){d(a,e,g)}}),g},execute:function(a,e,k,f){var g=
this._getOutSR(),d=f.assembly;a=this._gpEncode(b.mixin({},this._url.query,{f:"json","env:outSR":g?g.wkid||c.toJson(g.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||c.toJson(this.processSpatialReference.toJson()):null},a),null,d&&d[0]);var h=this._executeHandler,l=this._errorHandler;return q({url:this._url.path+"/execute",content:a,callbackParamName:"callback",load:function(a,g){h(a,g,e,k,f.dfd)},error:function(a){l(a,k,f.dfd)}})},_executeHandler:function(a,
b,c,e,g){try{var d,k,f=a.results,h=a.messages;d=0;for(k=f.length;d<k;d++)f[d]=this._decode(f[d]);d=0;for(k=h.length;d<k;d++)h[d]=new u(h[d]);this._successHandler([f,h],"onExecuteComplete",c,g)}catch(I){this._errorHandler(I,e,g)}},_getResultImageHandler:function(a,b,c,e,g){try{var d=this._decode(a);this._successHandler([d],"onGetResultImageComplete",c,g)}catch(r){this._errorHandler(r,e,g)}},getResultImage:function(a,c,e,h,g){var d=this._getResultImageHandler,k=this._errorHandler;e=this._gpEncode(b.mixin({},
this._url.query,{f:"json"},e.toJson()));var l=new f(n._dfdCanceller);return l._pendingDfd=q({url:this._url.path+"/jobs/"+a+"/results/"+c,content:e,callbackParamName:"callback",load:function(a,c){d(a,c,h,g,l)},error:function(a){k(a,g,l)}}),l},cancelJobStatusUpdates:function(a){clearTimeout(this._updateTimers[a]);this._updateTimers[a]=null},getResultImageLayer:function(a,c,e,b){var g;if(null==c){var d=this._url.path.indexOf("/GPServer/");a=this._url.path.substring(0,d)+"/MapServer/jobs/"+a}else a=this._url.path+
"/jobs/"+a+"/results/"+c;return this._url.query&&(a+="?"+t.objectToQuery(this._url.query)),g=null==c?new w(a,{imageParameters:e}):new B(a,{imageParameters:e},!0),this.onGetResultImageLayerComplete(g),b&&b(g),g},onStatusUpdate:function(){},onJobComplete:function(){},onExecuteComplete:function(){},onGetResultDataComplete:function(){},onGetResultImageComplete:function(){},onGetResultImageLayerComplete:function(){},onJobCancel:function(){}});return l._createWrappers(a),m("extend-esri")&&b.setObject("tasks.Geoprocessor",
a,x),a})},"esri/tasks/JobInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./GPMessage"],function(a,b,h,f,c){a=a(null,{declaredClass:"esri.tasks.JobInfo",constructor:function(a){this.messages=[];b.mixin(this,a);var f=this.messages,h=f.length;for(a=0;a<h;a++)f[a]=new c(f[a])},jobId:"",jobStatus:""});return b.mixin(a,{STATUS_CANCELLED:"esriJobCancelled",STATUS_CANCELLING:"esriJobCancelling",STATUS_DELETED:"esriJobDeleted",STATUS_DELETING:"esriJobDeleting",STATUS_EXECUTING:"esriJobExecuting",
STATUS_FAILED:"esriJobFailed",STATUS_NEW:"esriJobNew",STATUS_SUBMITTED:"esriJobSubmitted",STATUS_SUCCEEDED:"esriJobSucceeded",STATUS_TIMED_OUT:"esriJobTimedOut",STATUS_WAITING:"esriJobWaiting"}),h("extend-esri")&&b.setObject("tasks.JobInfo",a,f),a})},"esri/tasks/GPMessage":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(a,b,h,f){a=a(null,{declaredClass:"esri.tasks.GPMessage",constructor:function(a){b.mixin(this,a)}});return b.mixin(a,{TYPE_INFORMATIVE:"esriJobMessageTypeInformative",
TYPE_PROCESS_DEFINITION:"esriJobMessageTypeProcessDefinition",TYPE_PROCESS_START:"esriJobMessageTypeProcessStart",TYPE_PROCESS_STOP:"esriJobMessageTypeProcessStop",TYPE_WARNING:"esriJobMessageTypeWarning",TYPE_ERROR:"esriJobMessageTypeError",TYPE_EMPTY:"esriJobMessageTypeEmpty",TYPE_ABORT:"esriJobMessageTypeAbort"}),h("extend-esri")&&b.setObject("tasks.GPMessage",a,f),a})},"esri/tasks/LinearUnit":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(a,b,h,f){a=
a(null,{declaredClass:"esri.tasks.LinearUnit",constructor:function(a){a&&b.mixin(this,a)},distance:0,units:null,toJson:function(){var a={};return this.distance&&(a.distance=this.distance),this.units&&(a.units=this.units),a}});return h("extend-esri")&&b.setObject("tasks.LinearUnit",a,f),a})},"esri/tasks/DataFile":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(a,b,h,f){a=a(null,{declaredClass:"esri.tasks.DataFile",constructor:function(a){a&&b.mixin(this,a)},
url:null,itemID:null,toJson:function(){var a={};return this.url&&(a.url=this.url),this.itemID&&(a.itemID=this.itemID),a}});return h("extend-esri")&&b.setObject("tasks.DataFile",a,f),a})},"esri/tasks/RasterData":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(a,b,h,f){a=a(null,{declaredClass:"esri.tasks.RasterData",constructor:function(a){a&&b.mixin(this,a)},url:null,format:null,itemID:null,toJson:function(){var a={};return this.url&&(a.url=this.url),this.format&&
(a.format=this.format),this.itemID&&(a.itemID=this.itemID),a}});return h("extend-esri")&&b.setObject("tasks.RasterData",a,f),a})},"esri/tasks/Date":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/date/locale","dojo/has","../kernel"],function(a,b,h,f,c){a=a(null,{declaredClass:"esri.tasks.Date",constructor:function(a){a&&(a.format&&(this.format=a.format),this.date=h.parse(a.date,{selector:"date",datePattern:this.format}))},date:new Date,format:"EEE MMM dd HH:mm:ss zzz yyyy",toJson:function(){return{date:h.format(this.date,
{selector:"date",datePattern:this.format}),format:this.format}}});return f("extend-esri")&&b.setObject("tasks.Date",a,c),a})},"esri/tasks/ParameterValue":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(a,b,h,f){a=a(null,{declaredClass:"esri.tasks.ParameterValue",constructor:function(a){b.mixin(this,a)}});return h("extend-esri")&&b.setObject("tasks.ParameterValue",a,f),a})},"esri/tasks/GPResultImageLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has dojo/io-query ../kernel ../layers/ArcGISDynamicMapServiceLayer".split(" "),
function(a,b,h,f,c,m,t){a=a(t,{declaredClass:"esri.tasks._GPResultImageLayer",constructor:function(a,f){f&&f.imageParameters&&f.imageParameters.extent&&(this.initialExtent=this.fullExtent=f.imageParameters.extent,this.spatialReference=this.initialExtent.spatialReference);this.getImageUrl=b.hitch(this,this.getImageUrl);this.loaded=!0;this.onLoad(this)},getImageUrl:function(a,f,n,l){var p=a.spatialReference.wkid;l(this._url.path+"?"+c.objectToQuery(b.mixin(this._params,{f:"image",bbox:h.toJson(a.toJson()),
bboxSR:p,imageSR:p,size:f+","+n})))}});return f("extend-esri")&&b.setObject("tasks._GPResultImageLayer",a,m),a})},"esri/tasks/IdentifyTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../request ../geometry/normalizeUtils ./Task ./IdentifyResult".split(" "),function(a,b,h,f,c,m,t,x,q){a=a(x,{declaredClass:"esri.tasks.IdentifyTask",_eventMap:{complete:["results"]},constructor:function(a,f){this._url.path+="/identify";this._handler=b.hitch(this,this._handler);
this.gdbVersion=f&&f.gdbVersion;this.registerConnectEvents()},__msigns:[{n:"execute",c:3,a:[{i:0,p:["geometry"]}],e:2}],_handler:function(a,b,f,c,e){try{var l=[];h.forEach(a.results,function(a,b){l[b]=new q(a)});this._successHandler([l],"onComplete",f,e)}catch(y){this._errorHandler(y,c,e)}},execute:function(a,f,c,h){var e=h.assembly;a=this._encode(b.mixin({},this._url.query,{f:"json"},a.toJson(e&&e[0])));var l=this._handler,p=this._errorHandler;return this.gdbVersion&&(a.gdbVersion=this.gdbVersion),
m({url:this._url.path,content:a,callbackParamName:"callback",load:function(a,b){l(a,b,f,c,h.dfd)},error:function(a){p(a,c,h.dfd)}})},onComplete:function(){}});return t._createWrappers(a),f("extend-esri")&&b.setObject("tasks.IdentifyTask",a,c),a})},"esri/tasks/IdentifyResult":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../graphic ../geometry/jsonUtils".split(" "),function(a,b,h,f,c,m){a=a(null,{declaredClass:"esri.tasks.IdentifyResult",constructor:function(a){b.mixin(this,
a);this.feature=new c(a.geometry?m.fromJson(a.geometry):null,null,a.attributes);delete this.geometry;delete this.attributes}});return h("extend-esri")&&b.setObject("tasks.IdentifyResult",a,f),a})},"esri/tasks/IdentifyParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../layerUtils ../geometry/jsonUtils ../geometry/scaleUtils".split(" "),function(a,b,h,f,c,m,t,x,q){var n=a(null,{declaredClass:"esri.tasks.IdentifyParameters",constructor:function(){this.layerOption=
n.LAYER_OPTION_TOP},geometry:null,spatialReference:null,layerIds:null,tolerance:null,returnGeometry:!1,returnFieldName:!1,returnUnformattedValues:!1,mapExtent:null,width:400,height:400,dpi:96,layerDefinitions:null,timeExtent:null,layerTimeOptions:null,dynamicLayerInfos:null,toJson:function(a){var b=a&&a.geometry||this.geometry,c=this.mapExtent,e=this.spatialReference,l=this.layerIds;a={tolerance:this.tolerance,returnGeometry:this.returnGeometry,returnFieldName:this.returnFieldName,returnUnformattedValues:this.returnUnformattedValues,
imageDisplay:this.width+","+this.height+","+this.dpi,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision};if(b){var m=b.toJson();delete m.spatialReference;a.geometry=f.toJson(m);a.geometryType=x.getJsonType(b)}e?a.sr=e.wkid||f.toJson(e.toJson()):b&&b.spatialReference?a.sr=b.spatialReference.wkid||f.toJson(b.spatialReference.toJson()):c&&c.spatialReference&&(a.sr=c.spatialReference.wkid||f.toJson(c.spatialReference.toJson()));c&&(a.mapExtent=c.xmin+","+c.ymin+","+c.xmax+
","+c.ymax);a.layers=this.layerOption;l&&(a.layers+=":"+l.join(","));a.layerDefs=t._serializeLayerDefinitions(this.layerDefinitions,!0);b=this.timeExtent;if(a.time=b?b.toJson().join(","):null,a.layerTimeOptions=t._serializeTimeOptions(this.layerTimeOptions),this.dynamicLayerInfos&&0<this.dynamicLayerInfos.length){var c=q.getScale({extent:c,width:this.width,spatialReference:c.spatialReference}),n=t._getLayersForScale(c,this.dynamicLayerInfos),v=[];h.forEach(this.dynamicLayerInfos,function(a){if(!a.subLayerIds){var b=
a.id;if((!this.layerIds||this.layerIds&&-1!==h.indexOf(this.layerIds,b))&&-1!==h.indexOf(n,b)){var c={id:b};c.source=a.source&&a.source.toJson();var e;this.layerDefinitions&&this.layerDefinitions[b]&&(e=this.layerDefinitions[b]);e&&(c.definitionExpression=e);var f;this.layerTimeOptions&&this.layerTimeOptions[b]&&(f=this.layerTimeOptions[b]);f&&(c.layerTimeOptions=f.toJson());v.push(c)}}},this);c=f.toJson(v);"[]"===c&&(c="[{}]");a.dynamicLayers=c}return a}});return b.mixin(n,{LAYER_OPTION_TOP:"top",
LAYER_OPTION_VISIBLE:"visible",LAYER_OPTION_ALL:"all"}),c("extend-esri")&&b.setObject("tasks.IdentifyParameters",n,m),n})},"widgets/ECAT/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings","dojo/text!widgets/ECAT/config.json"],function(){})},"url:widgets/ECAT/Widget.html":'\r\n\x3cdiv\x3e\r\n\r\n\t\x3cdiv\x3e\r\n        \x3ctable  \x3e\r\n            \x3ctr\x3e\r\n                \x3ctd\x3e\r\n                    Climate Scenario:\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-id\x3d"scenario" name\x3d"scenario" id\x3d"scenario" style\x3d"width: 160px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"RCP26"\x3eScenario I\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"RCP45"\x3eScenario II\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"RCP60"\x3eScenario III\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"RCP85"\x3eScenario IV\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n                \t\x3cinput type\x3d\'button\' class\x3d\'i-button\' data-dojo-attach-event\x3d"ondijitclick:OnScenarioSelectHelpClick" /\x3e\r\n                \x3c/td\x3e                \r\n            \x3c/tr\x3e\r\n            \r\n            \x3ctr\x3e\r\n                \x3ctd\x3e\r\n                    Starting year for baseline:\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-id\x3d"startYearBaseline" name\x3d"startYearBaseline" id\x3d"startYearBaseline" style\x3d"width: 160px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n                \x3c/td\x3e\r\n            \x3c/tr\x3e \r\n\r\n            \x3ctr\x3e\r\n                \x3ctd\x3e\r\n                    Ending year for baseline:\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-id\x3d"endYearBaseline" name\x3d"endYearBaseline" id\x3d"endYearBaseline" style\x3d"width: 160px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n                \x3c/td\x3e\r\n            \x3c/tr\x3e \r\n            \r\n            \x3ctr\x3e\r\n                \x3ctd\x3e\r\n                    Starting year for comparison:\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-id\x3d"startYearComparison" name\x3d"startYearComparison" id\x3d"startYearComparison" style\x3d"width: 160px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n                \x3c/td\x3e\r\n            \x3c/tr\x3e                         \r\n            \r\n            \x3ctr\x3e\r\n                \x3ctd\x3e\r\n                    Ending year for comparison:\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-id\x3d"endYearComparison" name\x3d"endYearComparison" id\x3d"endYearComparison" style\x3d"width: 160px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n                \x3c/td\x3e\r\n            \x3c/tr\x3e             \r\n            \r\n            \x3ctr\x3e\r\n                \x3ctd\x3e\r\n                    Climate variable:\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-id\x3d"climateVariable" name\x3d"climateVariable" id\x3d"climateVariable" style\x3d"width: 160px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"TempMax"\x3eMaximum Temperature\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"TempMin"\x3eMinimum Temperature\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"PET"\x3ePotential Evapotranspiration\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"Precip"\x3ePrecipitation\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n                \t\x3cinput type\x3d\'button\' class\x3d\'i-button\' data-dojo-attach-event\x3d"ondijitclick:OnClimateVariableHelpClick" /\x3e\r\n                \x3c/td\x3e                \r\n            \x3c/tr\x3e   \r\n            \r\n            \x3ctr\x3e\r\n                \x3ctd\x3e\r\n                    Season or Annual:\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-id\x3d"season" name\x3d"season" id\x3d"season" style\x3d"width: 160px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"Spring"\x3eSpring\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"Summer"\x3eSummer\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"Fall"\x3eFall\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"Winter"\x3eWinter\x3c/option\x3e\r\n\t\t\t\t\t    \x3coption value\x3d"Annual"\x3eAnnual\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n                \t\x3cinput type\x3d\'button\' class\x3d\'i-button\' data-dojo-attach-event\x3d"ondijitclick:OnSeasonSelectHelpClick" /\x3e\r\n                \x3c/td\x3e                \r\n            \x3c/tr\x3e                       \r\n        \x3c/table\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cbr\x3e\r\n\t\x3cdiv\x3e\r\n\t    \x3ctable  \x3e\r\n\t        \x3ctr\x3e\r\n\t            \x3ctd\x3e\r\n\t\t    \t\t\x3cbutton id\x3d"calculateChangeBtn" type\x3d"button"\x3eCalculate Change\x3c/button\x3e \x26nbsp;\r\n\t\t\t    \x3c/td\x3e\t\r\n\t        \t\x3ctd\x3e\r\n\t\t\t    \t\x3cbutton id\x3d"clearLayersBtn" type\x3d"button"  \x3eClear Layers\x3c/button\x3e \x26nbsp;\r\n\t\t\t\t\x3c/td\x3e   \r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t    \t\x3cimg id\x3d"loadingWrap2" src\x3d"${folderUrl}images/bigrotation2.gif" style\x3d"width:20px;height:20px"/\x3e\r\n\t\t\t    \x3c/td\x3e\r\n\t\t\t    \x3ctd\x3e\r\n\t\t\t    \t\x3clabel id\x3d"ECATgpFail" style\x3d"display:none;"\x3egp tool failed\x3c/label\x3e\r\n\t\t\t    \x3c/td\x3e\r\n\t    \t\x3c/tr\x3e\r\n\t\t\x3c/table  \x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv style\x3d"line-height:60%;"\x3e\r\n\t    \x3cbr\x3e\r\n\t\x3c/div\x3e\r\n    \x3cbutton id\x3d"downloadCSVBtn" type\x3d"button"  \x3eDownload HUC12 average values (CSV)\x3c/button\x3e    \t\t\t\r\n\r\n\t\x3cdiv\x3e\r\n\t    \x3cbr\x3e\r\n\t\x3c/div\x3e    \r\n\t\x3chr\x3e\r\n    \x3c!-- \x3cdiv id\x3d"slider" \x3e\x3c/div\x3e --\x3e\r\n    \r\n    \x3cbr\x3e\r\n \t\x3cdiv \x3e \t\t\r\n \t\t\x3cp\x3e\r\n \t\t\tWe recommend at least 30 year increments for the baseline period and the comparison time period (e.g., use 1950 to 1980 for a baseline period) because of the inherent uncertainty in the climate models. The calculation may take a few minutes. You may continue to use the map while the ECAT calculation takes place.\r\n \t\t\x3c/p\x3e\r\n \t\t\x3cbr\x3e\r\n \t\t\x3ca target \x3d "_blank" href\x3d"https://www.epa.gov/sites/production/files/2015-05/documents/enviroatlasuserguide.pdf"\x3eLearn more in our User Guide (pdf)\x3c/a\x3e\r\n \t\x3c/div\x3e\r\n\t\x3cdiv id\x3d"helpModal" class\x3d"helpModalCSS"\x3e\r\n\t\t\t\x3cdiv id\x3d"divSplashScreenContainer" class\x3d"divSplashScreenContainer" \x3e\r\n\t\t\t\t\x3ctable style\x3d"width: 100%; height: 100%;"\x3e\r\n\t\t\t\t\t\x3ctr align\x3d"center" valign\x3d"middle"\x3e\r\n\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\x3cdiv id\x3d"divSplashScreenContent" class\x3d"hideContainer divSplashScreenContent"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable style\x3d"width: 100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cdiv id\x3d"divSplashContainer" class\x3d"divSplashContainer" style\x3d"margin-top: 10px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cdiv id\x3d"divSplashContent" class\x3d"divSplashContent"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cbr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctr align\x3d"center" valign\x3d"middle"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cdiv\x3e\x3cbutton id\x3d"helpCloseButton" type\x3d"button" class\x3d"closeIcon"\x3eOK\x3c/button\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e \r\n\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\t\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/ECAT/css/style.css":"#infobtn{margin-left: 5px;}.glowing-border {border: 2px solid #dadada; border-radius: 7px;}.glowing-border:focus {outline: none; border-color: #9ecaed; box-shadow: 0 0 10px #9ecaed;}.helpModalCSS {display: none; position: fixed; z-index: 1; padding-top: 100px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.4);}.divSplashScreenContainer {background: none repeat scroll 0 0 rgba(0, 0, 0, 0.65); height: 100%; left: 0; position: absolute; top: 0; width: 100%; z-index: 100000; display: none;}.divSplashScreenContent {background-color: #FFFFFF; border-radius: 0px; box-shadow: 0 0 10px #00FFFF; text-align: left; width: 500px; z-index: 1000;}.divSplashContainer {overflow: hidden; position: relative;}.divSplashContent {overflow: hidden; padding-left: 10px; text-align: left; width: 95%; font-size:9pt;}.closeIcon {border: medium none; border-radius: 5px; cursor: pointer; float: inherit; margin-bottom: 20px; overflow: hidden;}",
"url:widgets/ECAT/config.json":'{\r\n\t"cors": ["https://gisservices.spatialni.gov.uk","http://mesonet.agron.iastate.edu","http://demo.boundlessgeo.com","http://geodata.epa.gov","https://geodata.epa.gov","https://gispub.epa.gov","http://gispub.epa.gov"]\r\n\r\n}\r\n',"*now":function(a){a(['dojo/i18n!*preload*widgets/ECAT/nls/Widget*["","ROOT"]'])}}});
define("dojo/_base/declare jimu/BaseWidget esri/layers/ArcGISDynamicMapServiceLayer esri/tasks/Geoprocessor esri/tasks/IdentifyTask esri/tasks/IdentifyParameters esri/InfoTemplate dijit/form/HorizontalSlider dojo/on dojo/dom-style dojo/request/xhr dojo/dom dojo/dom-class dijit/form/FilteringSelect".split(" "),function(a,b,h,f,c,m,t,x,q,n,l,p,F){var e,u=null,y,E=null,v=null,z=null,A=null,B=null,w=null,C=null,d=function(a){document.getElementById("ECATgpFail").style.display="none";y=a;u.getResultImageLayer(a.jobId,
null,null,function(a){a.setOpacity(1);a.id=window.addedLayerIdPrefix+"ClimateChange";window.layerID_Portal_WebMap.push(a.id);var b=document.getElementById("scenario");scenarioText=b.options[b.selectedIndex].text;b="null";if("TempMax"==w||"TempMin"==w)b=" (Degrees Fahrenheit)";else if("Precip"==w||"PET"==w)b=" (Inches per season or year)";a.name="ECAT "+scenarioText+" "+v+"/"+z+"-"+A+"/"+B+" "+w+" "+C+b;e.addLayer(a);e.on("click",G);identifyTask=new c(a.url)});esri.hide(p.byId("loadingWrap2"))},G=
function(a){e.graphics.clear();var b=0;identifyParams=new m;identifyParams.tolerance=3;identifyParams.returnGeometry=!0;identifyParams.layerOption=m.LAYER_OPTION_ALL;identifyParams.width=e.width;identifyParams.height=e.height;identifyParams.geometry=a.mapPoint;identifyParams.mapExtent=e.extent;(lyr=e.getLayer(window.addedLayerIdPrefix+"ClimateChange"))&&lyr.visible&&identifyTask.execute(identifyParams,function(g){0==window.widthOfInfoWindow&&(window.widthOfInfoWindow=e.infoWindow.width,window.heightOfInfoWindow=
e.infoWindow.height);e.infoWindow.resize(140,120);e.infoWindow.setTitle("Identify Results");b=parseFloat(g[0].feature.attributes["Pixel Value"]);e.infoWindow.setContent(b.toString());e.infoWindow.show(a.screenPoint,e.getInfoWindowAnchor(a.screenPoint))})},k=function(a){console.log("in onTaskStatus:"+a.jobStatus)},H=function(a){document.getElementById("ECATgpFail").style.display="";esri.hide(p.byId("loadingWrap2"));console.log(" geoprocessing service error:"+a)};return a([b],{baseClass:"jimu-widget-ECAT",
postCreate:function(){this.inherited(arguments);console.log("postCreate")},startup:function(){this.inherited(arguments);e=this.map;esri.hide(p.byId("loadingWrap2"));var a=null,a=a=a=null,b=document.getElementById("startYearBaseline"),c=document.getElementById("endYearBaseline"),h=document.getElementById("startYearComparison"),l=document.getElementById("endYearComparison");index=1950;for(len=2100;index<len;++index)a=document.createElement("option"),a.text=String(index),a.value=String(index),b.appendChild(a),
a=document.createElement("option"),a.text=String(index),a.value=String(index),c.appendChild(a),a=document.createElement("option"),a.text=String(index),a.value=String(index),h.appendChild(a),a=document.createElement("option"),a.text=String(index),a.value=String(index),l.appendChild(a);document.getElementById("calculateChangeBtn").onclick=function(){esri.show(p.byId("loadingWrap2"));document.getElementById("ECATgpFail").style.display="none";var a=document.getElementById("scenario");E=a.options[a.selectedIndex].value;
a=document.getElementById("startYearBaseline");v=a.options[a.selectedIndex].value;a=document.getElementById("endYearBaseline");z=a.options[a.selectedIndex].value;a=document.getElementById("startYearComparison");A=a.options[a.selectedIndex].value;a=document.getElementById("endYearComparison");B=a.options[a.selectedIndex].value;a=document.getElementById("climateVariable");w=a.options[a.selectedIndex].value;a=document.getElementById("season");C=a.options[a.selectedIndex].value;parseFloat(v)>parseFloat(z)?
(alert("Starting year for baseline shoud not be later than ending year for baseline."),esri.hide(p.byId("loadingWrap2"))):parseFloat(A)>parseFloat(B)?(alert("Starting year for comparison shoud not be later than ending year for comparison."),esri.hide(p.byId("loadingWrap2"))):(u=new f("https://enviroatlas2.epa.gov/arcgis/rest/services/ECAT/RasterCalculate_fromAverage/GPServer/RasterAverage_from5Year"),u.setOutSpatialReference(e.spatialReference),u.setProcessSpatialReference(e.spatialReference),a={},
a.futureClimateScenario=E,a.startingYearBaseline=v,a.endingYearBaseline=z,a.startingYearFuture=A,a.endingYearFuture=B,a.climateVariableSelection=w,a.seasonSelection=C,u.processSpatialReference=e.spatialReference,u.outSpatialReference=e.spatialReference,u.submitJob(a,d,k,H))};document.getElementById("clearLayersBtn").onclick=function(){if(lyr=e.getLayer(window.addedLayerIdPrefix+"ClimateChange"))e.removeLayer(lyr),e.infoWindow.hide()};document.getElementById("downloadCSVBtn").onclick=function(){window.open("https://enviroatlas2.epa.gov/arcgis/rest/directories/arcgisjobs/ecat/rastercalculate_fromaverage_gpserver/"+
y.jobId+"/scratch/HUC12Statistic.csv")};document.getElementById("helpCloseButton").onclick=function(){dojo.byId("divSplashScreenContent").style.display="none";dojo.byId("divSplashScreenContainer").style.display="none";document.getElementById("helpModal").style.display="none"};document.getElementById("startYearBaseline").onchange=function(){var a=document.getElementById("startYearBaseline");document.getElementById("endYearBaseline").value=a.options[a.selectedIndex].value};document.getElementById("startYearComparison").onchange=
function(){var a=document.getElementById("startYearComparison");document.getElementById("endYearComparison").value=a.options[a.selectedIndex].value}},onOpen:function(){console.log("onOpen")},onClose:function(){console.log("onClose")},onMinimize:function(){console.log("onMinimize")},onMaximize:function(){console.log("onMaximize")},onSignIn:function(a){console.log("onSignIn")},onSignOut:function(){console.log("onSignOut")},showInformationWindow:function(){document.getElementById("helpModal").style.display=
"block";dojo.byId("divSplashScreenContent").style.display="block";dojo.byId("divSplashScreenContainer").style.display="block"},OnScenarioSelectHelpClick:function(){0<=navigator.userAgent.indexOf("Firefox")?(dojo.byId("divSplashContent").innerHTML="\x3cfont-family\x3d 'Source Sans Pro' font-face\x3d'sans-serif' size\x3d'2+'\x3e\x3cb\x3eScenario I \u2013 RCP 2.6\x3c/b\x3e \u2013 This scenario is characterized as having very low greenhouse gas concentration levels. It is a \u201cpeak-and-decline\u201d scenario and assumes that greenhouse gas emissions peak between 2010 and 2020 with emissions declining substantially beyond 2020. The projected global warming increase compared to the reference period (1986-2005) is approximately 1.8 degree Fahrenheit (range of 0.54 to 3.06) by 2081-2100. Atmospheric CO2 is expected to be approximately 425 parts per million in 2100.\x3cBR\x3e\x3cBR\x3e\x3cb\x3eScenario II \u2013 RCP 4.5\x3c/b\x3e \u2013 This scenario assumes a stabilization will occur shortly after 2100, and assumes less emissions than RCP 6.0, which is also a stabilization scenario. It is characterized by a peak in emissions around 2040 and then a decline. The projected global warming increase compared to the reference period 1986-2005 is approximately 3.24 degrees Fahrenheit (range of 1.98 to 4.68) by 2081-2100. Atmospheric CO2 is expected to be approximately 600 parts per million in 2100.\x3cBR\x3e\x3cBR\x3e\x3cb\x3eScenario III \u2013 RCP 6.0\x3c/b\x3e \u2013 This is a stabilization scenario in which the increase in GHG emissions stabilizes shortly after 2100 through the application of a range of technologies and strategies for reducing GHG emissions. It is characterized by a peak in emissions around 2080 and then a decline. The projected global warming increase compared to the reference period 1986-2005 is approximately 3.96 degrees Celsius (range of 2.52 to 5.58) by 2081-2100. Atmospheric CO2 is expected to be approximately 725 parts per million in 2100.\x3cBR\x3e\x3cBR\x3e\x3cb\x3eScenario IV \u2013 RCP 8.5\x3c/b\x3e \u2013 This scenario is characterized by increasing GHG emissions over time, and factors in the highest GHG concentration levels of all the scenarios by 2100. The projected global warming increase compared to the reference period 1986-2005 is approximately 6.66 degrees Celsius (range of 4.68 to 8.64) by 2081-2100. Atmospheric CO2 is expected to be approximately 1225 parts per million in 2100.\x3cBR\x3e\x3cBR\x3e\x3cb\x3eHistorical climate\x3c/b\x3e \u2013 These data are based on PRISM historical observations and interpolation of previous climate. Data are provided for the years 1950 -2005.\x3c/font\x3e",
this.showInformationWindow()):0<=navigator.userAgent.indexOf("Chrome")?window.open("widgets/ECAT/Scenario.html","_blank","toolbar\x3dno, location\x3dno, titlebar\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dyes, resizable\x3dno,width\x3d600, height\x3d520,top\x3d200,left\x3d200"):window.showModalDialog("widgets/ECAT/Scenario.html","","dialogHeight: 560px;")},OnClimateVariableHelpClick:function(){0<=navigator.userAgent.indexOf("Firefox")?(dojo.byId("divSplashContent").innerHTML=
"\x3cfont-family\x3d 'Source Sans Pro' font-face\x3d'sans-serif' size\x3d'2+'\x3eMaximum Temperature \u2013 Average maximum temperature in degrees Fahrenheit for the season or annually. \x3ca href\x3d'https://enviroatlas.epa.gov/enviroatlas/DataFactSheets/pdf/Supplemental/Climate_Temp.pdf' target\x3d'_blank'\x3eAccess the Fact Sheet\x3c/a\x3e\x3cbr/\x3e\x3cbr/\x3eMinimum Temperature \u2013 Average minimum temperature in degrees Fahrenheit for the season or annually. \x3ca href\x3d'https://enviroatlas.epa.gov/enviroatlas/DataFactSheets/pdf/Supplemental/Climate_Temp.pdf' target\x3d'_blank'\x3eAccess the Fact Sheet\x3c/a\x3e\x3cbr/\x3e\x3cbr/\x3ePrecipitation - Total precipitation in inches for the season or annually. \x3ca href\x3d'https://enviroatlas.epa.gov/enviroatlas/DataFactSheets/pdf/Supplemental/Climate_Precip.pdf' target\x3d'_blank'\x3eAccess the Fact Sheet\x3c/a\x3e\x3cbr/\x3e\x3cbr/\x3ePotential Evapotranspiration - Total potential evapotranspiration in inches for the season or annually. \x3ca href\x3d'https://enviroatlas.epa.gov/enviroatlas/DataFactSheets/pdf/Supplemental/Climate_PET.pdf' target\x3d'_blank'\x3eAccess the Fact Sheet\x3c/a\x3e\x3c/font\x3e",
this.showInformationWindow()):0<=navigator.userAgent.indexOf("Chrome")?window.open("widgets/ECAT/ClimateVariable.html","_blank","toolbar\x3dno, location\x3dno, titlebar\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dyes, resizable\x3dno,width\x3d600, height\x3d260,top\x3d200,left\x3d200"):window.showModalDialog("widgets/ECAT/ClimateVariable.html","","dialogHeight: 250px;")},OnSeasonSelectHelpClick:function(){0<=navigator.userAgent.indexOf("Firefox")?(dojo.byId("divSplashContent").innerHTML=
"\x3cfont-family\x3d 'Source Sans Pro' font-face\x3d'sans-serif' size\x3d'2+'\x3eWinter \u2013 December of previous year, January, February\x3cBR\x3e\x3cBR\x3eSpring \u2013 March, April, May\x3cBR\x3e\x3cBR\x3eSummer \u2013 June, July, August\x3cBR\x3e\x3cBR\x3eFall \u2013 September, October, November\x3cBR\x3e\x3cBR\x3eAnnual \u2013 January through December of the same calendar year\x3c/font\x3e",this.showInformationWindow()):0<=navigator.userAgent.indexOf("Chrome")?window.open("widgets/ECAT/Season.html",
"_blank","toolbar\x3dno, location\x3dno, titlebar\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dyes, resizable\x3dno,width\x3d600, height\x3d220,top\x3d200,left\x3d200"):window.showModalDialog("widgets/ECAT/Season.html","","dialogHeight: 220px;")}})});